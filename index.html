<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Muskratbro Desktop VM</title>
    <style>
        html, body { margin: 0; padding: 0; height: 100%; }
        #screen { width: 100%; height: 100%; display: block; }
    </style>
</head>
<body>
    <div id="screen"></div>

    <!-- Load v86 -->
    <script src="libv86.js"></script>
    <script>
        window.onload = function() {
            const emulator = new V86Starter({
                wasm_path: "v86.wasm",
                bios: {
                    'seabios': "v86-master_bios_seabios.bin",
                    'vgabios': "v86-master_bios_vgabios.bin"
                },
                memory_size: 128 * 1024 * 1024, // 128MB for a proper desktop
                vga_memory_size: 8 * 1024 * 1024, // more VRAM
                screen_container: document.getElementById("screen"),
                autostart: true,
                cdrom: "https://copy.sh/v86/images/linux.iso", // Replace with bigger ISO if you want a desktop
                network_relay_url: "wss://relay.copy.sh:443/", // Optional for internet
            });

            // Optional: log VM messages
            emulator.add_listener("serial0-output-char", function(char) {
                console.log(char);
            });
        };
    </script>
</body>
</html>
